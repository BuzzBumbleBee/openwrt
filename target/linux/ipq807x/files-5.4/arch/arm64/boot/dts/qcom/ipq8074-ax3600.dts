// SPDX-License-Identifier: GPL-2.0-only
/dts-v1/;
/* Copyright (c) 2017, The Linux Foundation. All rights reserved.
 */
#include "ipq8074.dtsi"

/ {
	#address-cells = <0x2>;
	#size-cells = <0x2>;
	model = "AX3600";
	compatible = "qcom,ipq807x-ac04", "qcom,ipq807x";
	interrupt-parent = <&intc>;

	aliases {
		serial0 = &blsp1_uart5;
		serial1 = &blsp1_uart3;
	};

	chosen {
		stdout-path = "serial0";
	};

	memory {
		device_type = "memory";
		reg = <0x0 0x40000000 0x0 0x20000000>;
	};

	soc {
		pinctrl@1000000 {
			led_pins: led_pins {
				pins = "gpio42", "gpio43", "gpio21",
				       "gpio22", "gpio51";
				function = "gpio";
				drive-strength = <8>;
				bias-pull-down;
			};
			mdio_pins: mdio_pinmux {
				mux_0 {
					pins = "gpio68";
					function = "mdc";
					drive-strength = <8>;
					bias-pull-up;
				};
				mux_1 {
					pins = "gpio69";
					function = "mdio";
					drive-strength = <8>;
					bias-pull-up;
				};
				mux_2 {
					pins = "gpio25";
					function = "gpio";
					bias-pull-up;
				};
				mux_3 {
					pins = "gpio44";
					function = "gpio";
					bias-pull-up;
				};
			};
		};

		serial@78b3000 {
			status = "ok";
		};

		serial@78b1000 {
			 status = "ok";
		};

		dma@7984000 {
			 status = "ok";
		};

		nand@79b0000 {
			status = "ok";

			nand@0 {
				reg = <0>;
				nand-ecc-strength = <4>;
				nand-ecc-step-size = <512>;
				nand-bus-width = <8>;
				
				partitions {
					compatible = "fixed-partitions";
					#address-cells = <1>;
					#size-cells = <1>;
					
					partition0@0 {
						label = "0:SBL1";
						reg = <0x0 0x100000>;
						read-only;
					};

					partition1@100000 {
						label = "0:MIBIB";
						reg = <0x100000 0x100000>;
						read-only;
					};

					partition2@200000 {
						label = "0:QSEE";
						reg = <0x200000 0x300000>;
						read-only;
					};

					partition3@500000 {
						label = "0:DEVCFG";
						reg = <0x500000 0x80000>;
						read-only;
					};


					partition4@580000 {
						label = "0:RPM";
						reg = <0x580000 0x80000>;
						read-only;
					};

					partition5@600000 {
						label = "0:CDT";
						reg = <0x600000 0x80000>;
						read-only;
					};


					partition6@680000 {
						label = "0:APPSBLENV";
						reg = <0x680000 0x80000>;
						read-only;
					};

					partition7@700000 {
						label = "0:APPSBL";
						reg = <0x700000 0x100000>;
						read-only;
					};

					partition8@800000 {
						label = "0:ART";
						reg = <0x800000 0x80000>;
						read-only;
					};

					partition9@880000 {
						label = "bdata";
						reg = <0x880000 0x80000>;
						read-only;
					};

					partition10@900000 {
						label = "crash";
						reg = <0x900000 0x80000>;
						read-only;
					};

					partition11@980000 {
						label = "crash_syslog";
						reg = <0x980000 0x80000>;
						read-only;
					};

					partition12@a00000 {
						label = "rootfs";
						reg = <0xa00000 0x23c0000>;
					};

					partition13@2dc0000 {
						label = "rootfs_1";
						reg = <0x2dc0000 0x8000000>;
					};


					partition14@adc0000 {
						label = "overlay";
						reg = <0xadc0000 0x1ec0000>;
					};

					partition15@cc80000 {
						label = "rsvd0";
						reg = <0xcc80000 0x80000>;
						read-only;
					};

					partition16@cd00000 {
						label = "0:WIFIFW";
						reg = <0xcd00000 0x900000>;
						read-only;
					};
				};
			};
		};

		phy@86000 {
			status = "ok";
		};

		phy@8e000 {
			status = "ok";
		};

		pci@20000000 {
			status = "ok";
			perst-gpio = <&tlmm 58 0x1>;
		};

		pci@10000000 {
			status = "ok";
			perst-gpio = <&tlmm 61 0x1>;
		};

		mdio@90000 {
			pinctrl-0 = <&mdio_pins>;
			pinctrl-names = "default";
			phy-reset-gpio = <&tlmm 37 0>;
			#address-cells = <1>;
			#size-cells = <1>;
			compatible = "qcom,ipq40xx-mdio";
			reg = <0x90000 0x64>;

			phy0: ethernet-phy@0 {
				reg = <0>;
			};
			phy1: ethernet-phy@1 {
				reg = <1>;
			};
			phy2: ethernet-phy@2 {
				reg = <2>;
			};
			phy3: ethernet-phy@3 {
				reg = <3>;
			};
			phy4: ethernet-phy@4 {
				reg = <4>;
			};
		};

		edma@3ab00000 {
			compatible = "qcom,edma";
			reg = <0x3ab00000 0x76900>;
			reg-names = "edma-reg-base";
			qcom,txdesc-ring-start = <23>;
			qcom,txdesc-rings = <1>;
			qcom,txcmpl-ring-start = <7>;
			qcom,txcmpl-rings = <1>;
			qcom,rxfill-ring-start = <7>;
			qcom,rxfill-rings = <1>;
			qcom,rxdesc-ring-start = <15>;
			qcom,rxdesc-rings = <1>;
			interrupts = <0 345 4>,
					<0 353 4>,
					<0 361 4>,
					<0 344 4>;
			resets = <&gcc GCC_EDMA_HW_RESET>;
			reset-names = "edma_rst";
			clocks = <&gcc GCC_CMN_12GPLL_AHB_CLK>,
					<&gcc GCC_CMN_12GPLL_SYS_CLK>,
					<&gcc GCC_UNIPHY0_AHB_CLK>,
					<&gcc GCC_UNIPHY0_SYS_CLK>,
					<&gcc GCC_UNIPHY1_AHB_CLK>,
					<&gcc GCC_UNIPHY1_SYS_CLK>,
					<&gcc GCC_UNIPHY2_AHB_CLK>,
					<&gcc GCC_UNIPHY2_SYS_CLK>,
					<&gcc GCC_PORT1_MAC_CLK>,
					<&gcc GCC_PORT2_MAC_CLK>,
					<&gcc GCC_PORT3_MAC_CLK>,
					<&gcc GCC_PORT4_MAC_CLK>,
					<&gcc GCC_PORT5_MAC_CLK>,
					<&gcc GCC_PORT6_MAC_CLK>,
					<&gcc GCC_NSS_PPE_CLK>,
					<&gcc GCC_NSS_PPE_CFG_CLK>,
					<&gcc GCC_NSSNOC_PPE_CLK>,
					<&gcc GCC_NSSNOC_PPE_CFG_CLK>,
					<&gcc GCC_NSS_EDMA_CLK>,
					<&gcc GCC_NSS_EDMA_CFG_CLK>,
					<&gcc GCC_NSS_PPE_IPE_CLK>,
					<&gcc GCC_NSS_PPE_BTQ_CLK>,
					<&gcc GCC_MDIO_AHB_CLK>,
					<&gcc GCC_NSS_NOC_CLK>,
					<&gcc GCC_NSSNOC_SNOC_CLK>,
					<&gcc GCC_MEM_NOC_NSS_AXI_CLK>,
					<&gcc GCC_NSS_CRYPTO_CLK>,
					<&gcc GCC_NSS_IMEM_CLK>,
					<&gcc GCC_NSS_PTP_REF_CLK>,
					<&gcc GCC_NSS_PORT1_RX_CLK>,
					<&gcc GCC_NSS_PORT1_TX_CLK>,
					<&gcc GCC_NSS_PORT2_RX_CLK>,
					<&gcc GCC_NSS_PORT2_TX_CLK>,
					<&gcc GCC_NSS_PORT3_RX_CLK>,
					<&gcc GCC_NSS_PORT3_TX_CLK>,
					<&gcc GCC_NSS_PORT4_RX_CLK>,
					<&gcc GCC_NSS_PORT4_TX_CLK>,
					<&gcc GCC_NSS_PORT5_RX_CLK>,
					<&gcc GCC_NSS_PORT5_TX_CLK>,
					<&gcc GCC_NSS_PORT6_RX_CLK>,
					<&gcc GCC_NSS_PORT6_TX_CLK>,
					<&gcc GCC_UNIPHY0_PORT1_RX_CLK>,
					<&gcc GCC_UNIPHY0_PORT1_TX_CLK>,
					<&gcc GCC_UNIPHY0_PORT2_RX_CLK>,
					<&gcc GCC_UNIPHY0_PORT2_TX_CLK>,
					<&gcc GCC_UNIPHY0_PORT3_RX_CLK>,
					<&gcc GCC_UNIPHY0_PORT3_TX_CLK>,
					<&gcc GCC_UNIPHY0_PORT4_RX_CLK>,
					<&gcc GCC_UNIPHY0_PORT4_TX_CLK>,
					<&gcc GCC_UNIPHY0_PORT5_RX_CLK>,
					<&gcc GCC_UNIPHY0_PORT5_TX_CLK>,
					<&gcc GCC_UNIPHY1_PORT5_RX_CLK>,
					<&gcc GCC_UNIPHY1_PORT5_TX_CLK>,
					<&gcc GCC_UNIPHY2_PORT6_RX_CLK>,
					<&gcc GCC_UNIPHY2_PORT6_TX_CLK>,
					<&gcc NSS_PORT5_RX_CLK_SRC>,
					<&gcc NSS_PORT5_TX_CLK_SRC>;
			clock-names = "cmn_ahb_clk", "cmn_sys_clk",
					"uniphy0_ahb_clk", "uniphy0_sys_clk",
					"uniphy1_ahb_clk", "uniphy1_sys_clk",
					"uniphy2_ahb_clk", "uniphy2_sys_clk",
					"port1_mac_clk", "port2_mac_clk",
					"port3_mac_clk", "port4_mac_clk",
					"port5_mac_clk", "port6_mac_clk",
					"nss_ppe_clk", "nss_ppe_cfg_clk",
					"nssnoc_ppe_clk", "nssnoc_ppe_cfg_clk",
					"nss_edma_clk", "nss_edma_cfg_clk",
					"nss_ppe_ipe_clk", "nss_ppe_btq_clk",
					"gcc_mdio_ahb_clk", "gcc_nss_noc_clk",
					"gcc_nssnoc_snoc_clk",
					"gcc_mem_noc_nss_axi_clk",
					"gcc_nss_crypto_clk",
					"gcc_nss_imem_clk",
					"gcc_nss_ptp_ref_clk",
					"nss_port1_rx_clk", "nss_port1_tx_clk",
					"nss_port2_rx_clk", "nss_port2_tx_clk",
					"nss_port3_rx_clk", "nss_port3_tx_clk",
					"nss_port4_rx_clk", "nss_port4_tx_clk",
					"nss_port5_rx_clk", "nss_port5_tx_clk",
					"nss_port6_rx_clk", "nss_port6_tx_clk",
					"uniphy0_port1_rx_clk",
					"uniphy0_port1_tx_clk",
					"uniphy0_port2_rx_clk",
					"uniphy0_port2_tx_clk",
					"uniphy0_port3_rx_clk",
					"uniphy0_port3_tx_clk",
					"uniphy0_port4_rx_clk",
					"uniphy0_port4_tx_clk",
					"uniphy0_port5_rx_clk",
					"uniphy0_port5_tx_clk",
					"uniphy1_port5_rx_clk",
					"uniphy1_port5_tx_clk",
					"uniphy2_port6_rx_clk",
					"uniphy2_port6_tx_clk",
					"nss_port5_rx_clk_src",
					"nss_port5_tx_clk_src";
		};

		dp1 {
			device_type = "network";
			compatible = "qcom,nss-dp";
			qcom,id = <1>;
			reg = <0x3a001000 0x200>;
			qcom,mactype = <0>;
			local-mac-address = [000000000000];
			qcom,link-poll = <1>;
			qcom,phy-mdio-addr = <0>;
			phy-mode = "sgmii";
		};

		dp2 {
			device_type = "network";
			compatible = "qcom,nss-dp";
			qcom,id = <2>;
			reg = <0x3a001200 0x200>;
			qcom,mactype = <0>;
			local-mac-address = [000000000000];
			//qcom,link-poll = <1>;
			qcom,phy-mdio-addr = <1>;
			phy-mode = "sgmii";
		};

		dp3 {
			device_type = "network";
			compatible = "qcom,nss-dp";
			qcom,id = <3>;
			reg = <0x3a001400 0x200>;
			qcom,mactype = <0>;
			local-mac-address = [000000000000];
			//qcom,link-poll = <1>;
			qcom,phy-mdio-addr = <2>;
			phy-mode = "sgmii";
		};

		dp4 {
			device_type = "network";
			compatible = "qcom,nss-dp";
			qcom,id = <4>;
			reg = <0x3a001600 0x200>;
			qcom,mactype = <0>;
			local-mac-address = [000000000000];
			//qcom,link-poll = <1>;
			qcom,phy-mdio-addr = <3>;
			phy-mode = "sgmii";
		};

		dp5 {
			device_type = "network";
			compatible = "qcom,nss-dp";
			qcom,id = <5>;
			reg = <0x3a001800 0x200>;
			qcom,mactype = <0>;
			local-mac-address = [000000000000];
			//qcom,link-poll = <1>;
			qcom,phy-mdio-addr = <4>;
			phy-mode = "sgmii";
		};
	};

	leds {
		compatible = "gpio-leds";
		pinctrl-0 = <&led_pins>;
		pinctrl-names = "default";

		led_sys_blue {
			label = "led_blue";
			gpio = <&tlmm 42 0x0>;
			default-state = "off";
		};

		led_sys_yellow {
			label = "led_yellow";
			gpio = <&tlmm 43 0x0>;
			default-state = "on";
		};

		led_net_blue {
			label = "net_blue";
			gpio = <&tlmm 21 0x0>;
			default-state = "off";
			};

		led_net_yellow {
			label = "net_yellow";
			gpio = <&tlmm 22 0x0>;
			default-state = "off";
		};

		led_ant {
			label = "led_ant";
			gpio = <&tlmm 51 0x0>;
			default-state = "off";
		};
	};
};
